<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pica y Fija PRO</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI', sans-serif;
}

body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4,#fad0c4);
  color:#333;
}

.card{
  width:95%;
  max-width:420px;
  padding:30px;
  border-radius:20px;
  backdrop-filter:blur(15px);
  background:rgba(255,255,255,0.6);
  box-shadow:0 15px 35px rgba(0,0,0,0.2);
}

h1{
  text-align:center;
  margin-bottom:15px;
}

.sub{
  text-align:center;
  margin-bottom:20px;
  font-size:14px;
  opacity:0.7;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
  margin-bottom:10px;
  transition:0.2s;
}

button:hover{
  transform:scale(1.03);
}

.btn-primary{
  background:linear-gradient(90deg,#36d1dc,#5b86e5);
  color:white;
}

.btn-secondary{
  background:linear-gradient(90deg,#ff758c,#ff7eb3);
  color:white;
}

.btn-danger{
  background:#ff4b5c;
  color:white;
  margin-top:15px;
}

input, select{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  margin-bottom:10px;
  text-align:center;
  font-size:16px;
}

.historial{
  margin-top:15px;
  font-size:14px;
}

.historial div{
  padding:6px;
  background:rgba(255,255,255,0.7);
  border-radius:8px;
  margin-bottom:5px;
}

.hidden{
  display:none;
}

.numero-display{
  text-align:center;
  font-size:22px;
  letter-spacing:6px;
  margin-bottom:10px;
}

.ojo{
  cursor:pointer;
}
</style>
</head>

<body>

<div class="card">

  <!-- MENU -->
  <div id="menu">
    <h1>Pica y Fija</h1>
    <div class="sub">Juego 2 jugadores</div>
    <button class="btn-primary" onclick="iniciarJuego()">Iniciar Juego</button>
  </div>

  <!-- PANTALLA TU TURNO -->
  <div id="turno" class="hidden">

    <h1>Tu turno</h1>

    <div class="numero-display">
      N√∫mero secreto: 
      <span id="numeroSecreto">‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
      <span class="ojo" onclick="toggleNumero()">üëÅÔ∏è</span>
    </div>

    <div class="sub">Intento</div>
    <input 
      type="number" 
      id="intento" 
      maxlength="4"
      placeholder="Ingresa 4 cifras"
      oninput="limitarInput(this)"
    >

    <div class="sub">Resultado que te dice tu rival</div>

    <select id="fijas">
      <option value="0">0 Fijas</option>
      <option value="1">1 Fija</option>
      <option value="2">2 Fijas</option>
      <option value="3">3 Fijas</option>
      <option value="4">4 Fijas</option>
    </select>

    <select id="picas">
      <option value="0">0 Picas</option>
      <option value="1">1 Pica</option>
      <option value="2">2 Picas</option>
      <option value="3">3 Picas</option>
      <option value="4">4 Picas</option>
    </select>

    <button class="btn-primary" onclick="guardarIntento()">Guardar Intento</button>

    <div class="historial" id="historial"></div>

    <button class="btn-secondary" onclick="cambiarTurno()">Ir a turno rival</button>

    <button class="btn-danger" onclick="finalizarJuego()">Finalizar Juego</button>

  </div>

</div>

<script>

let numeroSecreto = generarNumero();
let visible = false;
let historial = [];

function iniciarJuego(){
  document.getElementById("menu").classList.add("hidden");
  document.getElementById("turno").classList.remove("hidden");
}

function generarNumero(){
  let numeros = "0123456789";
  let resultado = "";
  while(resultado.length < 4){
    let n = numeros[Math.floor(Math.random()*10)];
    if(!resultado.includes(n)){
      resultado += n;
    }
  }
  return resultado;
}

function toggleNumero(){
  visible = !visible;
  document.getElementById("numeroSecreto").textContent =
    visible ? numeroSecreto : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢";
}

function limitarInput(input){
  if(input.value.length > 4){
    input.value = input.value.slice(0,4);
  }
}

function guardarIntento(){

  let intento = document.getElementById("intento").value;
  let fijas = document.getElementById("fijas").value;
  let picas = document.getElementById("picas").value;

  if(intento.length !== 4){
    alert("El n√∫mero debe tener 4 cifras.");
    return;
  }

  let texto = intento + " ‚Üí " + fijas + " Fijas - " + picas + " Picas";
  historial.push(texto);

  actualizarHistorial();

  document.getElementById("intento").value = "";
}

function actualizarHistorial(){
  let contenedor = document.getElementById("historial");
  contenedor.innerHTML = "";
  historial.forEach(item=>{
    let div = document.createElement("div");
    div.textContent = item;
    contenedor.appendChild(div);
  });
}

function cambiarTurno(){
  alert("Cambio de turno (ac√° luego agregamos la pantalla del rival)");
}

function finalizarJuego(){
  let confirmar = confirm("¬øEst√°s seguro que quer√©s finalizar el juego?");
  if(confirmar){
    reiniciarJuego();
  }
}

function reiniciarJuego(){
  numeroSecreto = generarNumero();
  historial = [];
  visible = false;
  document.getElementById("numeroSecreto").textContent = "‚Ä¢‚Ä¢‚Ä¢‚Ä¢";
  document.getElementById("historial").innerHTML = "";
  document.getElementById("menu").classList.remove("hidden");
  document.getElementById("turno").classList.add("hidden");
}

</script>

</body>
</html>
